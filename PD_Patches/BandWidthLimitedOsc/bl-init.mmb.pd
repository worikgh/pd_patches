#N canvas 97 22 989 763 10;
#X obj 612 497 table \$1-bl-sawtemp.mmb;
#X obj 156 193 / 30;
#X obj 156 218 int;
#X obj 199 300 * 1027;
#X obj 156 168 / 2;
#X msg 199 327 resize \$1;
#X obj 148 426 until;
#X obj 147 483 f 0;
#X obj 176 484 + 1;
#X msg 163 458 0;
#N canvas 0 22 673 731 copy.waveform 0;
#X obj 68 44 inlet;
#X msg 68 183 1027;
#X obj 68 209 until;
#X obj 68 259 f 0;
#X obj 68 154 t b b f;
#X msg 83 239 0;
#X obj 100 260 + 1;
#X obj 242 310 * 1027;
#X obj 227 342 +;
#X obj 68 297 t f f;
#X obj 68 368 tabread \$1-bl-sawtemp.mmb;
#X text 163 116 copy temp waveform and add it to wavetable;
#X obj 68 416 tabwrite \$1-bl-sawtable.mmb;
#X obj 112 490 tabread \$1-bl-parabolatemp.mmb;
#X obj 112 558 tabwrite \$1-bl-parabolatable.mmb;
#X obj 192 609 tabread \$1-bl-tritemp.mmb;
#X obj 192 643 tabwrite \$1-bl-tritable.mmb;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 6 0;
#X connect 3 0 9 0;
#X connect 4 0 1 0;
#X connect 4 1 5 0;
#X connect 4 2 7 0;
#X connect 5 0 3 1;
#X connect 6 0 3 1;
#X connect 7 0 8 1;
#X connect 8 0 12 1;
#X connect 8 0 14 1;
#X connect 8 0 16 1;
#X connect 9 0 10 0;
#X connect 9 0 13 0;
#X connect 9 0 15 0;
#X connect 9 1 8 0;
#X connect 10 0 12 0;
#X connect 13 0 14 0;
#X connect 15 0 16 0;
#X restore 146 674 pd copy.waveform;
#X obj 199 355 s \$1-bl-sawtable.mmb;
#X obj 128 377 t b f b f;
#X obj 455 482 print bl-init.mmb;
#X msg 455 444 Creating waveforms. This may take a minute...;
#X obj 156 47 t b b;
#X msg 387 444 Done;
#X obj 156 82 delay 10;
#X msg 156 21 bang;
#N canvas 0 22 613 259 (subpatch) 0;
#X array \$1-bl-sawtable.mmb 100 float 1;
#A 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0;
#X coords 0 -1 99 1 100 70 1;
#X restore 612 533 graph;
#X obj 565 93 v \$1-bl-maxsamprate.mmb;
#X obj 156 120 v \$1-bl-maxsamprate.mmb;
#X obj 538 19 loadbang;
#X obj 538 124 s \$1-bl-getmaxsamprate.mmb;
#X msg 538 46 44100;
#X obj 538 71 t b f;
#N canvas 0 22 1371 735 (subpatch) 0;
#X array \$1-bl-parabolatable.mmb 100 float 1;
#A 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0;
#X coords 0 1 99 -1 100 70 1;
#X restore 764 533 graph;
#X obj 231 385 s \$1-bl-parabolatable.mmb;
#N canvas 621 22 701 797 create.parabola 0;
#X obj 105 170 until;
#X obj 105 226 f 1;
#X obj 137 227 + 1;
#X msg 120 204 1;
#X obj 105 142 t f b b;
#X obj 78 110 t b f;
#X obj 105 336 list prepend;
#X obj 186 336 t l;
#X obj 78 366 list;
#X obj 78 413 list trim;
#X obj 51 34 inlet;
#X obj 51 74 sel 0;
#X msg 23 287 const 0;
#X obj 105 278 expr pow(-1 \, $f1)*(4/pow($f1 \, 2));
#X obj 78 391 list prepend cosinesum 1024;
#X obj 78 542 s \$1-bl-parabolatemp.mmb;
#X text 186 85 make temporary parabola table with given number of harmonics
;
#X text 192 711 pow(PI \, 2)/3;
#X obj 127 596 until;
#X msg 127 571 1027;
#X obj 127 620 f 0;
#X obj 154 620 + 1;
#X obj 127 647 t f f;
#X obj 127 680 tabread \$1-bl-parabolatemp.mmb;
#X obj 127 748 tabwrite \$1-bl-parabolatemp.mmb;
#X msg 166 596 0;
#X obj 77 435 t b b b a;
#X obj 127 711 + 3.28986;
#X msg 78 509 normalize 1;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 13 0;
#X connect 2 0 1 1;
#X connect 3 0 1 1;
#X connect 4 0 0 0;
#X connect 4 1 3 0;
#X connect 4 2 6 1;
#X connect 5 0 8 0;
#X connect 5 1 4 0;
#X connect 6 0 7 0;
#X connect 6 0 8 1;
#X connect 7 0 6 1;
#X connect 8 0 14 0;
#X connect 9 0 26 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 11 1 5 0;
#X connect 12 0 15 0;
#X connect 13 0 6 0;
#X connect 14 0 9 0;
#X connect 18 0 20 0;
#X connect 19 0 18 0;
#X connect 20 0 21 0;
#X connect 20 0 22 0;
#X connect 21 0 20 1;
#X connect 22 0 23 0;
#X connect 22 1 24 1;
#X connect 23 0 27 0;
#X connect 25 0 20 1;
#X connect 26 0 28 0;
#X connect 26 1 19 0;
#X connect 26 2 25 0;
#X connect 26 3 15 0;
#X connect 27 0 24 0;
#X connect 28 0 15 0;
#X restore 279 633 pd create.parabola;
#N canvas 554 69 670 669 create.saw 0;
#X obj 105 170 until;
#X obj 105 226 f 1;
#X obj 137 227 + 1;
#X msg 120 204 1;
#X obj 105 142 t f b b;
#X obj 78 110 t b f;
#X obj 105 336 list prepend;
#X obj 186 336 t l;
#X obj 78 366 list;
#X obj 78 391 list prepend sinesum 1024;
#X obj 78 413 list trim;
#X obj 78 435 t b a;
#X msg 78 459 normalize 1;
#X msg 105 252 1 \$1;
#X obj 105 273 /;
#X obj 51 34 inlet;
#X obj 78 492 s \$1-bl-sawtemp.mmb;
#X text 49 524 make temporary table with given number of harmonics
;
#X obj 51 74 sel 0;
#X msg 23 287 const 0;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 13 0;
#X connect 2 0 1 1;
#X connect 3 0 1 1;
#X connect 4 0 0 0;
#X connect 4 1 3 0;
#X connect 4 2 6 1;
#X connect 5 0 8 0;
#X connect 5 1 4 0;
#X connect 6 0 7 0;
#X connect 6 0 8 1;
#X connect 7 0 6 1;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 11 1 16 0;
#X connect 12 0 16 0;
#X connect 13 0 14 0;
#X connect 14 0 6 0;
#X connect 15 0 18 0;
#X connect 18 0 19 0;
#X connect 18 1 5 0;
#X connect 19 0 16 0;
#X restore 173 612 pd create.saw;
#X obj 764 498 table \$1-bl-parabolatemp.mmb;
#X obj 156 246 t f f b;
#N canvas 0 22 1371 735 (subpatch) 0;
#X array \$1-bl-tritable.mmb 100 float 1;
#A 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0;
#X coords 0 1 99 -1 100 70 1;
#X restore 764 653 graph;
#X obj 764 618 table \$1-bl-tritemp.mmb;
#N canvas 0 22 721 692 create.triangle 0;
#X obj 115 180 until;
#X obj 115 236 f 1;
#X obj 147 237 + 1;
#X msg 130 214 1;
#X obj 115 152 t f b b;
#X obj 88 120 t b f;
#X obj 115 576 list prepend;
#X obj 196 576 t l;
#X obj 88 606 list;
#X obj 88 631 list prepend sinesum 1024;
#X obj 88 653 list trim;
#X obj 88 675 t b a;
#X msg 88 699 normalize 1;
#X obj 61 44 inlet;
#X obj 61 84 sel 0;
#X msg 33 297 const 0;
#X obj 140 297 % 2;
#X obj 115 362 sel 0;
#X msg 115 389 0;
#X obj 202 415 f 1;
#X obj 233 416 + 1;
#X obj 147 389 t f b;
#X obj 125 540 expr 1/($f1*$f1)*$f2;
#X obj 202 441 % 2;
#X obj 219 467 sel 0 1;
#X msg 217 500 -1;
#X msg 248 501 1;
#X msg 218 386 1;
#X obj 88 732 s \$1-bl-tritemp.mmb;
#X text 138 69 make temporary triangle table with given number of harmonics
;
#X obj 161 361 spigot;
#X obj 114 273 t f f;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 31 0;
#X connect 2 0 1 1;
#X connect 3 0 1 1;
#X connect 4 0 0 0;
#X connect 4 1 3 0;
#X connect 4 1 27 0;
#X connect 4 2 6 1;
#X connect 5 0 8 0;
#X connect 5 1 4 0;
#X connect 6 0 7 0;
#X connect 6 0 8 1;
#X connect 7 0 6 1;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 11 1 28 0;
#X connect 12 0 28 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 14 1 5 0;
#X connect 15 0 28 0;
#X connect 16 0 30 1;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 6 0;
#X connect 19 0 20 0;
#X connect 19 0 23 0;
#X connect 20 0 19 1;
#X connect 21 0 22 0;
#X connect 21 1 19 0;
#X connect 22 0 6 0;
#X connect 23 0 24 0;
#X connect 24 0 25 0;
#X connect 24 1 26 0;
#X connect 25 0 22 1;
#X connect 26 0 22 1;
#X connect 27 0 19 1;
#X connect 30 0 21 0;
#X connect 31 0 30 0;
#X connect 31 1 16 0;
#X restore 410 634 pd create.triangle;
#X obj 146 509 t f f f f;
#X obj 233 428 s \$1-bl-tritable.mmb;
#X text 584 47 1 - set the maximum sampling rate (lower sampling rates
will work fine);
#X text 194 21 2 - generate wavetables (this will take a few minutes)
;
#X connect 1 0 2 0;
#X connect 2 0 31 0;
#X connect 3 0 5 0;
#X connect 4 0 1 0;
#X connect 5 0 11 0;
#X connect 5 0 27 0;
#X connect 5 0 36 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 7 0 35 0;
#X connect 8 0 7 1;
#X connect 9 0 7 1;
#X connect 12 0 16 0;
#X connect 12 1 6 0;
#X connect 12 2 9 0;
#X connect 14 0 13 0;
#X connect 15 0 17 0;
#X connect 15 1 14 0;
#X connect 16 0 13 0;
#X connect 17 0 21 0;
#X connect 18 0 15 0;
#X connect 21 0 4 0;
#X connect 22 0 24 0;
#X connect 24 0 25 0;
#X connect 25 0 23 0;
#X connect 25 1 20 0;
#X connect 31 0 12 0;
#X connect 31 1 3 0;
#X connect 35 0 10 0;
#X connect 35 1 29 0;
#X connect 35 2 28 0;
#X connect 35 3 34 0;
